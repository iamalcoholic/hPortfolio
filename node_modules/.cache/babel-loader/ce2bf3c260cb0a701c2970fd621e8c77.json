{"ast":null,"code":"import e, { Component as t } from \"react\";\nimport r from \"prop-types\";\nimport n from \"react-fast-compare\";\nimport i from \"invariant\";\nimport o from \"shallowequal\";\n\nfunction a() {\n  return (a = Object.assign || function (e) {\n    for (var t = 1; t < arguments.length; t++) {\n      var r = arguments[t];\n\n      for (var n in r) Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]);\n    }\n\n    return e;\n  }).apply(this, arguments);\n}\n\nfunction s(e, t) {\n  e.prototype = Object.create(t.prototype), e.prototype.constructor = e, e.__proto__ = t;\n}\n\nfunction c(e, t) {\n  if (null == e) return {};\n  var r,\n      n,\n      i = {},\n      o = Object.keys(e);\n\n  for (n = 0; n < o.length; n++) t.indexOf(r = o[n]) >= 0 || (i[r] = e[r]);\n\n  return i;\n}\n\nvar u = {\n  BASE: \"base\",\n  BODY: \"body\",\n  HEAD: \"head\",\n  HTML: \"html\",\n  LINK: \"link\",\n  META: \"meta\",\n  NOSCRIPT: \"noscript\",\n  SCRIPT: \"script\",\n  STYLE: \"style\",\n  TITLE: \"title\",\n  FRAGMENT: \"Symbol(react.fragment)\"\n},\n    l = Object.keys(u).map(function (e) {\n  return u[e];\n}),\n    p = {\n  accesskey: \"accessKey\",\n  charset: \"charSet\",\n  class: \"className\",\n  contenteditable: \"contentEditable\",\n  contextmenu: \"contextMenu\",\n  \"http-equiv\": \"httpEquiv\",\n  itemprop: \"itemProp\",\n  tabindex: \"tabIndex\"\n},\n    f = Object.keys(p).reduce(function (e, t) {\n  return e[p[t]] = t, e;\n}, {}),\n    d = function (e, t) {\n  for (var r = e.length - 1; r >= 0; r -= 1) {\n    var n = e[r];\n    if (Object.prototype.hasOwnProperty.call(n, t)) return n[t];\n  }\n\n  return null;\n},\n    h = function (e) {\n  var t = d(e, u.TITLE),\n      r = d(e, \"titleTemplate\");\n  if (Array.isArray(t) && (t = t.join(\"\")), r && t) return r.replace(/%s/g, function () {\n    return t;\n  });\n  var n = d(e, \"defaultTitle\");\n  return t || n || void 0;\n},\n    m = function (e) {\n  return d(e, \"onChangeClientState\") || function () {};\n},\n    y = function (e, t) {\n  return t.filter(function (t) {\n    return void 0 !== t[e];\n  }).map(function (t) {\n    return t[e];\n  }).reduce(function (e, t) {\n    return a({}, e, t);\n  }, {});\n},\n    T = function (e, t) {\n  return t.filter(function (e) {\n    return void 0 !== e[u.BASE];\n  }).map(function (e) {\n    return e[u.BASE];\n  }).reverse().reduce(function (t, r) {\n    if (!t.length) for (var n = Object.keys(r), i = 0; i < n.length; i += 1) {\n      var o = n[i].toLowerCase();\n      if (-1 !== e.indexOf(o) && r[o]) return t.concat(r);\n    }\n    return t;\n  }, []);\n},\n    b = function (e, t, r) {\n  var n = {};\n  return r.filter(function (t) {\n    return !!Array.isArray(t[e]) || (void 0 !== t[e] && console && \"function\" == typeof console.warn && console.warn(\"Helmet: \" + e + ' should be of type \"Array\". Instead found type \"' + typeof t[e] + '\"'), !1);\n  }).map(function (t) {\n    return t[e];\n  }).reverse().reduce(function (e, r) {\n    var i = {};\n    r.filter(function (e) {\n      for (var r, o = Object.keys(e), a = 0; a < o.length; a += 1) {\n        var s = o[a],\n            c = s.toLowerCase();\n        -1 === t.indexOf(c) || \"rel\" === r && \"canonical\" === e[r].toLowerCase() || \"rel\" === c && \"stylesheet\" === e[c].toLowerCase() || (r = c), -1 === t.indexOf(s) || \"innerHTML\" !== s && \"cssText\" !== s && \"itemprop\" !== s || (r = s);\n      }\n\n      if (!r || !e[r]) return !1;\n      var u = e[r].toLowerCase();\n      return n[r] || (n[r] = {}), i[r] || (i[r] = {}), !n[r][u] && (i[r][u] = !0, !0);\n    }).reverse().forEach(function (t) {\n      return e.push(t);\n    });\n\n    for (var o = Object.keys(i), s = 0; s < o.length; s += 1) {\n      var c = o[s],\n          u = a({}, n[c], i[c]);\n      n[c] = u;\n    }\n\n    return e;\n  }, []).reverse();\n},\n    g = function (e) {\n  return Array.isArray(e) ? e.join(\"\") : e;\n},\n    v = [u.NOSCRIPT, u.SCRIPT, u.STYLE],\n    A = function (e, t) {\n  return void 0 === t && (t = !0), !1 === t ? String(e) : String(e).replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\").replace(/\"/g, \"&quot;\").replace(/'/g, \"&#x27;\");\n},\n    C = function (e) {\n  return Object.keys(e).reduce(function (t, r) {\n    var n = void 0 !== e[r] ? r + '=\"' + e[r] + '\"' : \"\" + r;\n    return t ? t + \" \" + n : n;\n  }, \"\");\n},\n    O = function (e, t) {\n  return void 0 === t && (t = {}), Object.keys(e).reduce(function (t, r) {\n    return t[p[r] || r] = e[r], t;\n  }, t);\n},\n    E = function (t, r, n) {\n  switch (t) {\n    case u.TITLE:\n      return {\n        toComponent: function () {\n          return n = r.titleAttributes, (i = {\n            key: t = r.title\n          })[\"data-rh\"] = !0, o = O(n, i), [e.createElement(u.TITLE, o, t)];\n          var t, n, i, o;\n        },\n        toString: function () {\n          return function (e, t, r, n) {\n            var i = C(r),\n                o = g(t);\n            return i ? \"<\" + e + ' data-rh=\"true\" ' + i + \">\" + A(o, n) + \"</\" + e + \">\" : \"<\" + e + ' data-rh=\"true\">' + A(o, n) + \"</\" + e + \">\";\n          }(t, r.title, r.titleAttributes, n);\n        }\n      };\n\n    case \"bodyAttributes\":\n    case \"htmlAttributes\":\n      return {\n        toComponent: function () {\n          return O(r);\n        },\n        toString: function () {\n          return C(r);\n        }\n      };\n\n    default:\n      return {\n        toComponent: function () {\n          return function (t, r) {\n            return r.map(function (r, n) {\n              var i,\n                  o = ((i = {\n                key: n\n              })[\"data-rh\"] = !0, i);\n              return Object.keys(r).forEach(function (e) {\n                var t = p[e] || e;\n                \"innerHTML\" === t || \"cssText\" === t ? o.dangerouslySetInnerHTML = {\n                  __html: r.innerHTML || r.cssText\n                } : o[t] = r[e];\n              }), e.createElement(t, o);\n            });\n          }(t, r);\n        },\n        toString: function () {\n          return function (e, t, r) {\n            return t.reduce(function (t, n) {\n              var i = Object.keys(n).filter(function (e) {\n                return !(\"innerHTML\" === e || \"cssText\" === e);\n              }).reduce(function (e, t) {\n                var i = void 0 === n[t] ? t : t + '=\"' + A(n[t], r) + '\"';\n                return e ? e + \" \" + i : i;\n              }, \"\"),\n                  o = n.innerHTML || n.cssText || \"\",\n                  a = -1 === v.indexOf(e);\n              return t + \"<\" + e + ' data-rh=\"true\" ' + i + (a ? \"/>\" : \">\" + o + \"</\" + e + \">\");\n            }, \"\");\n          }(t, r, n);\n        }\n      };\n  }\n},\n    S = function (e) {\n  var t = e.bodyAttributes,\n      r = e.encode,\n      n = e.htmlAttributes,\n      i = e.linkTags,\n      o = e.metaTags,\n      a = e.noscriptTags,\n      s = e.scriptTags,\n      c = e.styleTags,\n      l = e.title,\n      p = void 0 === l ? \"\" : l,\n      f = e.titleAttributes;\n  return {\n    base: E(u.BASE, e.baseTag, r),\n    bodyAttributes: E(\"bodyAttributes\", t, r),\n    htmlAttributes: E(\"htmlAttributes\", n, r),\n    link: E(u.LINK, i, r),\n    meta: E(u.META, o, r),\n    noscript: E(u.NOSCRIPT, a, r),\n    script: E(u.SCRIPT, s, r),\n    style: E(u.STYLE, c, r),\n    title: E(u.TITLE, {\n      title: p,\n      titleAttributes: f\n    }, r)\n  };\n},\n    I = e.createContext({}),\n    P = r.shape({\n  setHelmet: r.func,\n  helmetInstances: r.shape({\n    get: r.func,\n    add: r.func,\n    remove: r.func\n  })\n}),\n    L = \"undefined\" != typeof document,\n    x = function (t) {\n  function r(e) {\n    var n;\n    return (n = t.call(this, e) || this).instances = [], n.value = {\n      setHelmet: function (e) {\n        n.props.context.helmet = e;\n      },\n      helmetInstances: {\n        get: function () {\n          return n.instances;\n        },\n        add: function (e) {\n          n.instances.push(e);\n        },\n        remove: function (e) {\n          var t = n.instances.indexOf(e);\n          n.instances.splice(t, 1);\n        }\n      }\n    }, r.canUseDOM || (e.context.helmet = S({\n      baseTag: [],\n      bodyAttributes: {},\n      encodeSpecialCharacters: !0,\n      htmlAttributes: {},\n      linkTags: [],\n      metaTags: [],\n      noscriptTags: [],\n      scriptTags: [],\n      styleTags: [],\n      title: \"\",\n      titleAttributes: {}\n    })), n;\n  }\n\n  return s(r, t), r.prototype.render = function () {\n    return e.createElement(I.Provider, {\n      value: this.value\n    }, this.props.children);\n  }, r;\n}(t);\n\nx.canUseDOM = L, x.propTypes = {\n  context: r.shape({\n    helmet: r.shape()\n  }),\n  children: r.node.isRequired\n}, x.defaultProps = {\n  context: {}\n}, x.displayName = \"HelmetProvider\";\n\nvar j = function (e, t) {\n  var r,\n      n = document.head || document.querySelector(u.HEAD),\n      i = n.querySelectorAll(e + \"[data-rh]\"),\n      o = [].slice.call(i),\n      a = [];\n  return t && t.length && t.forEach(function (t) {\n    var n = document.createElement(e);\n\n    for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && (\"innerHTML\" === i ? n.innerHTML = t.innerHTML : \"cssText\" === i ? n.styleSheet ? n.styleSheet.cssText = t.cssText : n.appendChild(document.createTextNode(t.cssText)) : n.setAttribute(i, void 0 === t[i] ? \"\" : t[i]));\n\n    n.setAttribute(\"data-rh\", \"true\"), o.some(function (e, t) {\n      return r = t, n.isEqualNode(e);\n    }) ? o.splice(r, 1) : a.push(n);\n  }), o.forEach(function (e) {\n    return e.parentNode.removeChild(e);\n  }), a.forEach(function (e) {\n    return n.appendChild(e);\n  }), {\n    oldTags: o,\n    newTags: a\n  };\n},\n    w = function (e, t) {\n  var r = document.getElementsByTagName(e)[0];\n\n  if (r) {\n    for (var n = r.getAttribute(\"data-rh\"), i = n ? n.split(\",\") : [], o = [].concat(i), a = Object.keys(t), s = 0; s < a.length; s += 1) {\n      var c = a[s],\n          u = t[c] || \"\";\n      r.getAttribute(c) !== u && r.setAttribute(c, u), -1 === i.indexOf(c) && i.push(c);\n      var l = o.indexOf(c);\n      -1 !== l && o.splice(l, 1);\n    }\n\n    for (var p = o.length - 1; p >= 0; p -= 1) r.removeAttribute(o[p]);\n\n    i.length === o.length ? r.removeAttribute(\"data-rh\") : r.getAttribute(\"data-rh\") !== a.join(\",\") && r.setAttribute(\"data-rh\", a.join(\",\"));\n  }\n},\n    H = function (e, t) {\n  var r = e.baseTag,\n      n = e.htmlAttributes,\n      i = e.linkTags,\n      o = e.metaTags,\n      a = e.noscriptTags,\n      s = e.onChangeClientState,\n      c = e.scriptTags,\n      l = e.styleTags,\n      p = e.title,\n      f = e.titleAttributes;\n  w(u.BODY, e.bodyAttributes), w(u.HTML, n), function (e, t) {\n    void 0 !== e && document.title !== e && (document.title = g(e)), w(u.TITLE, t);\n  }(p, f);\n  var d = {\n    baseTag: j(u.BASE, r),\n    linkTags: j(u.LINK, i),\n    metaTags: j(u.META, o),\n    noscriptTags: j(u.NOSCRIPT, a),\n    scriptTags: j(u.SCRIPT, c),\n    styleTags: j(u.STYLE, l)\n  },\n      h = {},\n      m = {};\n  Object.keys(d).forEach(function (e) {\n    var t = d[e],\n        r = t.newTags,\n        n = t.oldTags;\n    r.length && (h[e] = r), n.length && (m[e] = d[e].oldTags);\n  }), t && t(), s(e, h, m);\n},\n    k = null,\n    M = function (e) {\n  function t() {\n    for (var t, r = arguments.length, n = new Array(r), i = 0; i < r; i++) n[i] = arguments[i];\n\n    return (t = e.call.apply(e, [this].concat(n)) || this).rendered = !1, t;\n  }\n\n  s(t, e);\n  var r = t.prototype;\n  return r.shouldComponentUpdate = function (e) {\n    return !o(e, this.props);\n  }, r.componentDidUpdate = function () {\n    this.emitChange();\n  }, r.componentWillUnmount = function () {\n    this.props.context.helmetInstances.remove(this), this.emitChange();\n  }, r.emitChange = function () {\n    var e,\n        t,\n        r = this.props.context,\n        n = r.setHelmet,\n        i = null,\n        o = (e = r.helmetInstances.get().map(function (e) {\n      var t = a({}, e.props);\n      return delete t.context, t;\n    }), {\n      baseTag: T([\"href\"], e),\n      bodyAttributes: y(\"bodyAttributes\", e),\n      defer: d(e, \"defer\"),\n      encode: d(e, \"encodeSpecialCharacters\"),\n      htmlAttributes: y(\"htmlAttributes\", e),\n      linkTags: b(u.LINK, [\"rel\", \"href\"], e),\n      metaTags: b(u.META, [\"name\", \"charset\", \"http-equiv\", \"property\", \"itemprop\"], e),\n      noscriptTags: b(u.NOSCRIPT, [\"innerHTML\"], e),\n      onChangeClientState: m(e),\n      scriptTags: b(u.SCRIPT, [\"src\", \"innerHTML\"], e),\n      styleTags: b(u.STYLE, [\"cssText\"], e),\n      title: h(e),\n      titleAttributes: y(\"titleAttributes\", e)\n    });\n    x.canUseDOM ? (t = o, k && cancelAnimationFrame(k), t.defer ? k = requestAnimationFrame(function () {\n      H(t, function () {\n        k = null;\n      });\n    }) : (H(t), k = null)) : S && (i = S(o)), n(i);\n  }, r.init = function () {\n    this.rendered || (this.rendered = !0, this.props.context.helmetInstances.add(this), this.emitChange());\n  }, r.render = function () {\n    return this.init(), null;\n  }, t;\n}(t);\n\nM.propTypes = {\n  context: P.isRequired\n}, M.displayName = \"HelmetDispatcher\";\n\nvar N = function (t) {\n  function r() {\n    return t.apply(this, arguments) || this;\n  }\n\n  s(r, t);\n  var o = r.prototype;\n  return o.shouldComponentUpdate = function (e) {\n    return !n(this.props, e);\n  }, o.mapNestedChildrenToProps = function (e, t) {\n    if (!t) return null;\n\n    switch (e.type) {\n      case u.SCRIPT:\n      case u.NOSCRIPT:\n        return {\n          innerHTML: t\n        };\n\n      case u.STYLE:\n        return {\n          cssText: t\n        };\n\n      default:\n        throw new Error(\"<\" + e.type + \" /> elements are self-closing and can not contain children. Refer to our API for more information.\");\n    }\n  }, o.flattenArrayTypeChildren = function (e) {\n    var t,\n        r = e.child,\n        n = e.arrayTypeChildren;\n    return a({}, n, ((t = {})[r.type] = [].concat(n[r.type] || [], [a({}, e.newChildProps, this.mapNestedChildrenToProps(r, e.nestedChildren))]), t));\n  }, o.mapObjectTypeChildren = function (e) {\n    var t,\n        r,\n        n = e.child,\n        i = e.newProps,\n        o = e.newChildProps,\n        s = e.nestedChildren;\n\n    switch (n.type) {\n      case u.TITLE:\n        return a({}, i, ((t = {})[n.type] = s, t.titleAttributes = a({}, o), t));\n\n      case u.BODY:\n        return a({}, i, {\n          bodyAttributes: a({}, o)\n        });\n\n      case u.HTML:\n        return a({}, i, {\n          htmlAttributes: a({}, o)\n        });\n\n      default:\n        return a({}, i, ((r = {})[n.type] = a({}, o), r));\n    }\n  }, o.mapArrayTypeChildrenToProps = function (e, t) {\n    var r = a({}, t);\n    return Object.keys(e).forEach(function (t) {\n      var n;\n      r = a({}, r, ((n = {})[t] = e[t], n));\n    }), r;\n  }, o.warnOnInvalidChildren = function (e, t) {\n    return i(l.some(function (t) {\n      return e.type === t;\n    }), \"function\" == typeof e.type ? \"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.\" : \"Only elements types \" + l.join(\", \") + \" are allowed. Helmet does not support rendering <\" + e.type + \"> elements. Refer to our API for more information.\"), i(!t || \"string\" == typeof t || Array.isArray(t) && !t.some(function (e) {\n      return \"string\" != typeof e;\n    }), \"Helmet expects a string as a child of <\" + e.type + \">. Did you forget to wrap your children in braces? ( <\" + e.type + \">{``}</\" + e.type + \"> ) Refer to our API for more information.\"), !0;\n  }, o.mapChildrenToProps = function (t, r) {\n    var n = this,\n        i = {};\n    return e.Children.forEach(t, function (e) {\n      if (e && e.props) {\n        var t = e.props,\n            o = t.children,\n            a = c(t, [\"children\"]),\n            s = Object.keys(a).reduce(function (e, t) {\n          return e[f[t] || t] = a[t], e;\n        }, {}),\n            l = e.type;\n\n        switch (\"symbol\" == typeof l ? l = l.toString() : n.warnOnInvalidChildren(e, o), l) {\n          case u.FRAGMENT:\n            r = n.mapChildrenToProps(o, r);\n            break;\n\n          case u.LINK:\n          case u.META:\n          case u.NOSCRIPT:\n          case u.SCRIPT:\n          case u.STYLE:\n            i = n.flattenArrayTypeChildren({\n              child: e,\n              arrayTypeChildren: i,\n              newChildProps: s,\n              nestedChildren: o\n            });\n            break;\n\n          default:\n            r = n.mapObjectTypeChildren({\n              child: e,\n              newProps: r,\n              newChildProps: s,\n              nestedChildren: o\n            });\n        }\n      }\n    }), this.mapArrayTypeChildrenToProps(i, r);\n  }, o.render = function () {\n    var t = this.props,\n        r = t.children,\n        n = a({}, c(t, [\"children\"]));\n    return r && (n = this.mapChildrenToProps(r, n)), e.createElement(I.Consumer, null, function (t) {\n      return e.createElement(M, a({}, n, {\n        context: t\n      }));\n    });\n  }, r;\n}(t);\n\nN.propTypes = {\n  base: r.object,\n  bodyAttributes: r.object,\n  children: r.oneOfType([r.arrayOf(r.node), r.node]),\n  defaultTitle: r.string,\n  defer: r.bool,\n  encodeSpecialCharacters: r.bool,\n  htmlAttributes: r.object,\n  link: r.arrayOf(r.object),\n  meta: r.arrayOf(r.object),\n  noscript: r.arrayOf(r.object),\n  onChangeClientState: r.func,\n  script: r.arrayOf(r.object),\n  style: r.arrayOf(r.object),\n  title: r.string,\n  titleAttributes: r.object,\n  titleTemplate: r.string\n}, N.defaultProps = {\n  defer: !0,\n  encodeSpecialCharacters: !0\n}, N.displayName = \"Helmet\";\nexport { N as Helmet, x as HelmetProvider };","map":{"version":3,"sources":["../src/constants.js","../src/utils.js","../src/server.js","../src/Provider.js","../src/client.js","../src/Dispatcher.js","../src/index.js"],"names":["TAG_NAMES","BASE","BODY","HEAD","HTML","LINK","META","NOSCRIPT","SCRIPT","STYLE","TITLE","FRAGMENT","VALID_TAG_NAMES","Object","keys","map","name","REACT_TAG_MAP","accesskey","charset","class","contenteditable","contextmenu","http-equiv","itemprop","tabindex","HTML_TAG_MAP","reduce","obj","key","getInnermostProperty","propsList","property","i","length","props","prototype","hasOwnProperty","call","getTitleFromPropsList","innermostTitle","innermostTemplate","Array","isArray","join","replace","innermostDefaultTitle","undefined","getOnChangeClientState","getAttributesFromPropsList","tagType","filter","tagAttrs","current","getBaseTagFromPropsList","primaryAttributes","reverse","innermostBaseTag","tag","lowerCaseAttributeKey","toLowerCase","indexOf","concat","console","warn","getTagsFromPropsList","tagName","approvedSeenTags","approvedTags","instanceTags","instanceSeenTags","primaryAttributeKey","attributeKey","value","forEach","push","tagUnion","baseTag","bodyAttributes","defer","encode","htmlAttributes","linkTags","metaTags","noscriptTags","onChangeClientState","scriptTags","styleTags","title","titleAttributes","flattenArray","possibleArray","SELF_CLOSING_TAGS","encodeSpecialCharacters","str","String","generateElementAttributesAsString","attributes","attr","type","attributeString","flattenedTitle","tags","attributeHtml","attribute","string","tagContent","innerHTML","cssText","isSelfClosing","convertElementAttributesToReactProps","initProps","React","createElement","mappedTag","mappedAttribute","dangerouslySetInnerHTML","__html","getMethodsForTag","toComponent","toString","generateTitleAsString","generateTagsAsReactComponent","generateTagsAsString","mapStateOnServer","base","link","meta","noscript","script","style","Context","createContext","providerShape","PropTypes","shape","setHelmet","func","helmetInstances","get","add","remove","canUseDOM","document","Provider","Component","propTypes","context","helmet","children","node","isRequired","defaultProps","displayName","instances","_this","serverState","instance","index","splice","render","this","updateTags","headElement","head","querySelector","tagNodes","querySelectorAll","oldTags","slice","newTags","indexToDelete","newElement","styleSheet","appendChild","createTextNode","setAttribute","some","existingTag","isEqualNode","parentNode","removeChild","updateAttributes","elementTag","getElementsByTagName","helmetAttributeString","getAttribute","helmetAttributes","split","attributesToRemove","attributeKeys","indexToSave","removeAttribute","commitTagChanges","newState","cb","updateTitle","tagUpdates","addedTags","removedTags","_helmetCallback","cancelAnimationFrame","requestAnimationFrame","Dispatcher","rendered","shouldComponentUpdate","nextProps","shallowEqual","componentDidUpdate","emitChange","componentWillUnmount","state","init","Helmet","object","oneOfType","arrayOf","defaultTitle","bool","titleTemplate","fastCompare","mapNestedChildrenToProps","child","nestedChildren","Error","flattenArrayTypeChildren","arrayTypeChildren","newChildProps","mapObjectTypeChildren","newProps","mapArrayTypeChildrenToProps","newFlattenedProps","arrayChildName","warnOnInvalidChildren","invariant","nestedChild","mapChildrenToProps","Children","childProps","Consumer"],"mappings":"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","sourcesContent":["export const TAG_PROPERTIES = {\n  CHARSET: 'charset',\n  CSS_TEXT: 'cssText',\n  HREF: 'href',\n  HTTPEQUIV: 'http-equiv',\n  INNER_HTML: 'innerHTML',\n  ITEM_PROP: 'itemprop',\n  NAME: 'name',\n  PROPERTY: 'property',\n  REL: 'rel',\n  SRC: 'src',\n};\n\nexport const ATTRIBUTE_NAMES = {\n  BODY: 'bodyAttributes',\n  HTML: 'htmlAttributes',\n  TITLE: 'titleAttributes',\n};\n\nexport const TAG_NAMES = {\n  BASE: 'base',\n  BODY: 'body',\n  HEAD: 'head',\n  HTML: 'html',\n  LINK: 'link',\n  META: 'meta',\n  NOSCRIPT: 'noscript',\n  SCRIPT: 'script',\n  STYLE: 'style',\n  TITLE: 'title',\n  FRAGMENT: 'Symbol(react.fragment)',\n};\n\nexport const VALID_TAG_NAMES = Object.keys(TAG_NAMES).map(name => TAG_NAMES[name]);\n\nexport const REACT_TAG_MAP = {\n  accesskey: 'accessKey',\n  charset: 'charSet',\n  class: 'className',\n  contenteditable: 'contentEditable',\n  contextmenu: 'contextMenu',\n  'http-equiv': 'httpEquiv',\n  itemprop: 'itemProp',\n  tabindex: 'tabIndex',\n};\n\nexport const HTML_TAG_MAP = Object.keys(REACT_TAG_MAP).reduce((obj, key) => {\n  obj[REACT_TAG_MAP[key]] = key;\n  return obj;\n}, {});\n\nexport const HELMET_ATTRIBUTE = 'data-rh';\n","import { TAG_NAMES, TAG_PROPERTIES, ATTRIBUTE_NAMES } from './constants';\n\nconst HELMET_PROPS = {\n  DEFAULT_TITLE: 'defaultTitle',\n  DEFER: 'defer',\n  ENCODE_SPECIAL_CHARACTERS: 'encodeSpecialCharacters',\n  ON_CHANGE_CLIENT_STATE: 'onChangeClientState',\n  TITLE_TEMPLATE: 'titleTemplate',\n};\n\nconst getInnermostProperty = (propsList, property) => {\n  for (let i = propsList.length - 1; i >= 0; i -= 1) {\n    const props = propsList[i];\n\n    if (Object.prototype.hasOwnProperty.call(props, property)) {\n      return props[property];\n    }\n  }\n\n  return null;\n};\n\nconst getTitleFromPropsList = propsList => {\n  let innermostTitle = getInnermostProperty(propsList, TAG_NAMES.TITLE);\n  const innermostTemplate = getInnermostProperty(propsList, HELMET_PROPS.TITLE_TEMPLATE);\n  if (Array.isArray(innermostTitle)) {\n    innermostTitle = innermostTitle.join('');\n  }\n  if (innermostTemplate && innermostTitle) {\n    // use function arg to avoid need to escape $ characters\n    return innermostTemplate.replace(/%s/g, () => innermostTitle);\n  }\n\n  const innermostDefaultTitle = getInnermostProperty(propsList, HELMET_PROPS.DEFAULT_TITLE);\n\n  return innermostTitle || innermostDefaultTitle || undefined;\n};\n\nconst getOnChangeClientState = propsList =>\n  getInnermostProperty(propsList, HELMET_PROPS.ON_CHANGE_CLIENT_STATE) || (() => {});\n\nconst getAttributesFromPropsList = (tagType, propsList) =>\n  propsList\n    .filter(props => typeof props[tagType] !== 'undefined')\n    .map(props => props[tagType])\n    .reduce((tagAttrs, current) => ({ ...tagAttrs, ...current }), {});\n\nconst getBaseTagFromPropsList = (primaryAttributes, propsList) =>\n  propsList\n    .filter(props => typeof props[TAG_NAMES.BASE] !== 'undefined')\n    .map(props => props[TAG_NAMES.BASE])\n    .reverse()\n    .reduce((innermostBaseTag, tag) => {\n      if (!innermostBaseTag.length) {\n        const keys = Object.keys(tag);\n\n        for (let i = 0; i < keys.length; i += 1) {\n          const attributeKey = keys[i];\n          const lowerCaseAttributeKey = attributeKey.toLowerCase();\n\n          if (\n            primaryAttributes.indexOf(lowerCaseAttributeKey) !== -1 &&\n            tag[lowerCaseAttributeKey]\n          ) {\n            return innermostBaseTag.concat(tag);\n          }\n        }\n      }\n\n      return innermostBaseTag;\n    }, []);\n\n// eslint-disable-next-line no-console\nconst warn = msg => console && typeof console.warn === 'function' && console.warn(msg);\n\nconst getTagsFromPropsList = (tagName, primaryAttributes, propsList) => {\n  // Calculate list of tags, giving priority innermost component (end of the propslist)\n  const approvedSeenTags = {};\n\n  return propsList\n    .filter(props => {\n      if (Array.isArray(props[tagName])) {\n        return true;\n      }\n      if (typeof props[tagName] !== 'undefined') {\n        warn(\n          `Helmet: ${tagName} should be of type \"Array\". Instead found type \"${typeof props[\n            tagName\n          ]}\"`\n        );\n      }\n      return false;\n    })\n    .map(props => props[tagName])\n    .reverse()\n    .reduce((approvedTags, instanceTags) => {\n      const instanceSeenTags = {};\n\n      instanceTags\n        .filter(tag => {\n          let primaryAttributeKey;\n          const keys = Object.keys(tag);\n          for (let i = 0; i < keys.length; i += 1) {\n            const attributeKey = keys[i];\n            const lowerCaseAttributeKey = attributeKey.toLowerCase();\n\n            // Special rule with link tags, since rel and href are both primary tags, rel takes priority\n            if (\n              primaryAttributes.indexOf(lowerCaseAttributeKey) !== -1 &&\n              !(\n                primaryAttributeKey === TAG_PROPERTIES.REL &&\n                tag[primaryAttributeKey].toLowerCase() === 'canonical'\n              ) &&\n              !(\n                lowerCaseAttributeKey === TAG_PROPERTIES.REL &&\n                tag[lowerCaseAttributeKey].toLowerCase() === 'stylesheet'\n              )\n            ) {\n              primaryAttributeKey = lowerCaseAttributeKey;\n            }\n            // Special case for innerHTML which doesn't work lowercased\n            if (\n              primaryAttributes.indexOf(attributeKey) !== -1 &&\n              (attributeKey === TAG_PROPERTIES.INNER_HTML ||\n                attributeKey === TAG_PROPERTIES.CSS_TEXT ||\n                attributeKey === TAG_PROPERTIES.ITEM_PROP)\n            ) {\n              primaryAttributeKey = attributeKey;\n            }\n          }\n\n          if (!primaryAttributeKey || !tag[primaryAttributeKey]) {\n            return false;\n          }\n\n          const value = tag[primaryAttributeKey].toLowerCase();\n\n          if (!approvedSeenTags[primaryAttributeKey]) {\n            approvedSeenTags[primaryAttributeKey] = {};\n          }\n\n          if (!instanceSeenTags[primaryAttributeKey]) {\n            instanceSeenTags[primaryAttributeKey] = {};\n          }\n\n          if (!approvedSeenTags[primaryAttributeKey][value]) {\n            instanceSeenTags[primaryAttributeKey][value] = true;\n            return true;\n          }\n\n          return false;\n        })\n        .reverse()\n        .forEach(tag => approvedTags.push(tag));\n\n      // Update seen tags with tags from this instance\n      const keys = Object.keys(instanceSeenTags);\n      for (let i = 0; i < keys.length; i += 1) {\n        const attributeKey = keys[i];\n        const tagUnion = {\n          ...approvedSeenTags[attributeKey],\n          ...instanceSeenTags[attributeKey],\n        };\n\n        approvedSeenTags[attributeKey] = tagUnion;\n      }\n\n      return approvedTags;\n    }, [])\n    .reverse();\n};\n\nconst reducePropsToState = propsList => ({\n  baseTag: getBaseTagFromPropsList([TAG_PROPERTIES.HREF], propsList),\n  bodyAttributes: getAttributesFromPropsList(ATTRIBUTE_NAMES.BODY, propsList),\n  defer: getInnermostProperty(propsList, HELMET_PROPS.DEFER),\n  encode: getInnermostProperty(propsList, HELMET_PROPS.ENCODE_SPECIAL_CHARACTERS),\n  htmlAttributes: getAttributesFromPropsList(ATTRIBUTE_NAMES.HTML, propsList),\n  linkTags: getTagsFromPropsList(\n    TAG_NAMES.LINK,\n    [TAG_PROPERTIES.REL, TAG_PROPERTIES.HREF],\n    propsList\n  ),\n  metaTags: getTagsFromPropsList(\n    TAG_NAMES.META,\n    [\n      TAG_PROPERTIES.NAME,\n      TAG_PROPERTIES.CHARSET,\n      TAG_PROPERTIES.HTTPEQUIV,\n      TAG_PROPERTIES.PROPERTY,\n      TAG_PROPERTIES.ITEM_PROP,\n    ],\n    propsList\n  ),\n  noscriptTags: getTagsFromPropsList(TAG_NAMES.NOSCRIPT, [TAG_PROPERTIES.INNER_HTML], propsList),\n  onChangeClientState: getOnChangeClientState(propsList),\n  scriptTags: getTagsFromPropsList(\n    TAG_NAMES.SCRIPT,\n    [TAG_PROPERTIES.SRC, TAG_PROPERTIES.INNER_HTML],\n    propsList\n  ),\n  styleTags: getTagsFromPropsList(TAG_NAMES.STYLE, [TAG_PROPERTIES.CSS_TEXT], propsList),\n  title: getTitleFromPropsList(propsList),\n  titleAttributes: getAttributesFromPropsList(ATTRIBUTE_NAMES.TITLE, propsList),\n});\n\nexport const flattenArray = possibleArray =>\n  Array.isArray(possibleArray) ? possibleArray.join('') : possibleArray;\n\nexport { reducePropsToState };\n","import React from 'react';\nimport {\n  HELMET_ATTRIBUTE,\n  TAG_NAMES,\n  REACT_TAG_MAP,\n  TAG_PROPERTIES,\n  ATTRIBUTE_NAMES,\n} from './constants';\nimport { flattenArray } from './utils';\n\nconst SELF_CLOSING_TAGS = [TAG_NAMES.NOSCRIPT, TAG_NAMES.SCRIPT, TAG_NAMES.STYLE];\n\nconst encodeSpecialCharacters = (str, encode = true) => {\n  if (encode === false) {\n    return String(str);\n  }\n\n  return String(str)\n    .replace(/&/g, '&amp;')\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;')\n    .replace(/\"/g, '&quot;')\n    .replace(/'/g, '&#x27;');\n};\n\nconst generateElementAttributesAsString = attributes =>\n  Object.keys(attributes).reduce((str, key) => {\n    const attr = typeof attributes[key] !== 'undefined' ? `${key}=\"${attributes[key]}\"` : `${key}`;\n    return str ? `${str} ${attr}` : attr;\n  }, '');\n\nconst generateTitleAsString = (type, title, attributes, encode) => {\n  const attributeString = generateElementAttributesAsString(attributes);\n  const flattenedTitle = flattenArray(title);\n  return attributeString\n    ? `<${type} ${HELMET_ATTRIBUTE}=\"true\" ${attributeString}>${encodeSpecialCharacters(\n        flattenedTitle,\n        encode\n      )}</${type}>`\n    : `<${type} ${HELMET_ATTRIBUTE}=\"true\">${encodeSpecialCharacters(\n        flattenedTitle,\n        encode\n      )}</${type}>`;\n};\n\nconst generateTagsAsString = (type, tags, encode) =>\n  tags.reduce((str, tag) => {\n    const attributeHtml = Object.keys(tag)\n      .filter(\n        attribute =>\n          !(attribute === TAG_PROPERTIES.INNER_HTML || attribute === TAG_PROPERTIES.CSS_TEXT)\n      )\n      .reduce((string, attribute) => {\n        const attr =\n          typeof tag[attribute] === 'undefined'\n            ? attribute\n            : `${attribute}=\"${encodeSpecialCharacters(tag[attribute], encode)}\"`;\n        return string ? `${string} ${attr}` : attr;\n      }, '');\n\n    const tagContent = tag.innerHTML || tag.cssText || '';\n\n    const isSelfClosing = SELF_CLOSING_TAGS.indexOf(type) === -1;\n\n    return `${str}<${type} ${HELMET_ATTRIBUTE}=\"true\" ${attributeHtml}${\n      isSelfClosing ? `/>` : `>${tagContent}</${type}>`\n    }`;\n  }, '');\n\nconst convertElementAttributesToReactProps = (attributes, initProps = {}) =>\n  Object.keys(attributes).reduce((obj, key) => {\n    obj[REACT_TAG_MAP[key] || key] = attributes[key];\n    return obj;\n  }, initProps);\n\nconst generateTitleAsReactComponent = (type, title, attributes) => {\n  // assigning into an array to define toString function on it\n  const initProps = {\n    key: title,\n    [HELMET_ATTRIBUTE]: true,\n  };\n  const props = convertElementAttributesToReactProps(attributes, initProps);\n\n  return [React.createElement(TAG_NAMES.TITLE, props, title)];\n};\n\nconst generateTagsAsReactComponent = (type, tags) =>\n  tags.map((tag, i) => {\n    const mappedTag = {\n      key: i,\n      [HELMET_ATTRIBUTE]: true,\n    };\n\n    Object.keys(tag).forEach(attribute => {\n      const mappedAttribute = REACT_TAG_MAP[attribute] || attribute;\n\n      if (\n        mappedAttribute === TAG_PROPERTIES.INNER_HTML ||\n        mappedAttribute === TAG_PROPERTIES.CSS_TEXT\n      ) {\n        const content = tag.innerHTML || tag.cssText;\n        mappedTag.dangerouslySetInnerHTML = { __html: content };\n      } else {\n        mappedTag[mappedAttribute] = tag[attribute];\n      }\n    });\n\n    return React.createElement(type, mappedTag);\n  });\n\nconst getMethodsForTag = (type, tags, encode) => {\n  switch (type) {\n    case TAG_NAMES.TITLE:\n      return {\n        toComponent: () =>\n          generateTitleAsReactComponent(type, tags.title, tags.titleAttributes, encode),\n        toString: () => generateTitleAsString(type, tags.title, tags.titleAttributes, encode),\n      };\n    case ATTRIBUTE_NAMES.BODY:\n    case ATTRIBUTE_NAMES.HTML:\n      return {\n        toComponent: () => convertElementAttributesToReactProps(tags),\n        toString: () => generateElementAttributesAsString(tags),\n      };\n    default:\n      return {\n        toComponent: () => generateTagsAsReactComponent(type, tags),\n        toString: () => generateTagsAsString(type, tags, encode),\n      };\n  }\n};\n\nconst mapStateOnServer = ({\n  baseTag,\n  bodyAttributes,\n  encode,\n  htmlAttributes,\n  linkTags,\n  metaTags,\n  noscriptTags,\n  scriptTags,\n  styleTags,\n  title = '',\n  titleAttributes,\n}) => ({\n  base: getMethodsForTag(TAG_NAMES.BASE, baseTag, encode),\n  bodyAttributes: getMethodsForTag(ATTRIBUTE_NAMES.BODY, bodyAttributes, encode),\n  htmlAttributes: getMethodsForTag(ATTRIBUTE_NAMES.HTML, htmlAttributes, encode),\n  link: getMethodsForTag(TAG_NAMES.LINK, linkTags, encode),\n  meta: getMethodsForTag(TAG_NAMES.META, metaTags, encode),\n  noscript: getMethodsForTag(TAG_NAMES.NOSCRIPT, noscriptTags, encode),\n  script: getMethodsForTag(TAG_NAMES.SCRIPT, scriptTags, encode),\n  style: getMethodsForTag(TAG_NAMES.STYLE, styleTags, encode),\n  title: getMethodsForTag(TAG_NAMES.TITLE, { title, titleAttributes }, encode),\n});\n\nexport default mapStateOnServer;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport mapStateOnServer from './server';\n\nconst defaultValue = {};\n\nexport const Context = React.createContext(defaultValue);\n\nexport const providerShape = PropTypes.shape({\n  setHelmet: PropTypes.func,\n  helmetInstances: PropTypes.shape({\n    get: PropTypes.func,\n    add: PropTypes.func,\n    remove: PropTypes.func,\n  }),\n});\n\nconst canUseDOM = typeof document !== 'undefined';\n\nexport default class Provider extends Component {\n  static canUseDOM = canUseDOM;\n\n  static propTypes = {\n    context: PropTypes.shape({\n      helmet: PropTypes.shape(),\n    }),\n    children: PropTypes.node.isRequired,\n  };\n\n  static defaultProps = {\n    context: {},\n  };\n\n  static displayName = 'HelmetProvider';\n\n  instances = [];\n\n  value = {\n    setHelmet: serverState => {\n      this.props.context.helmet = serverState;\n    },\n    helmetInstances: {\n      get: () => this.instances,\n      add: instance => {\n        this.instances.push(instance);\n      },\n      remove: instance => {\n        const index = this.instances.indexOf(instance);\n        this.instances.splice(index, 1);\n      },\n    },\n  };\n\n  constructor(props) {\n    super(props);\n\n    if (!Provider.canUseDOM) {\n      props.context.helmet = mapStateOnServer({\n        baseTag: [],\n        bodyAttributes: {},\n        encodeSpecialCharacters: true,\n        htmlAttributes: {},\n        linkTags: [],\n        metaTags: [],\n        noscriptTags: [],\n        scriptTags: [],\n        styleTags: [],\n        title: '',\n        titleAttributes: {},\n      });\n    }\n  }\n\n  render() {\n    return <Context.Provider value={this.value}>{this.props.children}</Context.Provider>;\n  }\n}\n","import { HELMET_ATTRIBUTE, TAG_NAMES, TAG_PROPERTIES } from './constants';\nimport { flattenArray } from './utils';\n\nconst updateTags = (type, tags) => {\n  const headElement = document.head || document.querySelector(TAG_NAMES.HEAD);\n  const tagNodes = headElement.querySelectorAll(`${type}[${HELMET_ATTRIBUTE}]`);\n  const oldTags = [].slice.call(tagNodes);\n  const newTags = [];\n  let indexToDelete;\n\n  if (tags && tags.length) {\n    tags.forEach(tag => {\n      const newElement = document.createElement(type);\n\n      // eslint-disable-next-line\n      for (const attribute in tag) {\n        if (Object.prototype.hasOwnProperty.call(tag, attribute)) {\n          if (attribute === TAG_PROPERTIES.INNER_HTML) {\n            newElement.innerHTML = tag.innerHTML;\n          } else if (attribute === TAG_PROPERTIES.CSS_TEXT) {\n            if (newElement.styleSheet) {\n              newElement.styleSheet.cssText = tag.cssText;\n            } else {\n              newElement.appendChild(document.createTextNode(tag.cssText));\n            }\n          } else {\n            const value = typeof tag[attribute] === 'undefined' ? '' : tag[attribute];\n            newElement.setAttribute(attribute, value);\n          }\n        }\n      }\n\n      newElement.setAttribute(HELMET_ATTRIBUTE, 'true');\n\n      // Remove a duplicate tag from domTagstoRemove, so it isn't cleared.\n      if (\n        oldTags.some((existingTag, index) => {\n          indexToDelete = index;\n          return newElement.isEqualNode(existingTag);\n        })\n      ) {\n        oldTags.splice(indexToDelete, 1);\n      } else {\n        newTags.push(newElement);\n      }\n    });\n  }\n\n  oldTags.forEach(tag => tag.parentNode.removeChild(tag));\n  newTags.forEach(tag => headElement.appendChild(tag));\n\n  return {\n    oldTags,\n    newTags,\n  };\n};\n\nconst updateAttributes = (tagName, attributes) => {\n  const elementTag = document.getElementsByTagName(tagName)[0];\n\n  if (!elementTag) {\n    return;\n  }\n\n  const helmetAttributeString = elementTag.getAttribute(HELMET_ATTRIBUTE);\n  const helmetAttributes = helmetAttributeString ? helmetAttributeString.split(',') : [];\n  const attributesToRemove = [].concat(helmetAttributes);\n  const attributeKeys = Object.keys(attributes);\n\n  for (let i = 0; i < attributeKeys.length; i += 1) {\n    const attribute = attributeKeys[i];\n    const value = attributes[attribute] || '';\n\n    if (elementTag.getAttribute(attribute) !== value) {\n      elementTag.setAttribute(attribute, value);\n    }\n\n    if (helmetAttributes.indexOf(attribute) === -1) {\n      helmetAttributes.push(attribute);\n    }\n\n    const indexToSave = attributesToRemove.indexOf(attribute);\n    if (indexToSave !== -1) {\n      attributesToRemove.splice(indexToSave, 1);\n    }\n  }\n\n  for (let i = attributesToRemove.length - 1; i >= 0; i -= 1) {\n    elementTag.removeAttribute(attributesToRemove[i]);\n  }\n\n  if (helmetAttributes.length === attributesToRemove.length) {\n    elementTag.removeAttribute(HELMET_ATTRIBUTE);\n  } else if (elementTag.getAttribute(HELMET_ATTRIBUTE) !== attributeKeys.join(',')) {\n    elementTag.setAttribute(HELMET_ATTRIBUTE, attributeKeys.join(','));\n  }\n};\n\nconst updateTitle = (title, attributes) => {\n  if (typeof title !== 'undefined' && document.title !== title) {\n    document.title = flattenArray(title);\n  }\n\n  updateAttributes(TAG_NAMES.TITLE, attributes);\n};\n\nconst commitTagChanges = (newState, cb) => {\n  const {\n    baseTag,\n    bodyAttributes,\n    htmlAttributes,\n    linkTags,\n    metaTags,\n    noscriptTags,\n    onChangeClientState,\n    scriptTags,\n    styleTags,\n    title,\n    titleAttributes,\n  } = newState;\n  updateAttributes(TAG_NAMES.BODY, bodyAttributes);\n  updateAttributes(TAG_NAMES.HTML, htmlAttributes);\n\n  updateTitle(title, titleAttributes);\n\n  const tagUpdates = {\n    baseTag: updateTags(TAG_NAMES.BASE, baseTag),\n    linkTags: updateTags(TAG_NAMES.LINK, linkTags),\n    metaTags: updateTags(TAG_NAMES.META, metaTags),\n    noscriptTags: updateTags(TAG_NAMES.NOSCRIPT, noscriptTags),\n    scriptTags: updateTags(TAG_NAMES.SCRIPT, scriptTags),\n    styleTags: updateTags(TAG_NAMES.STYLE, styleTags),\n  };\n\n  const addedTags = {};\n  const removedTags = {};\n\n  Object.keys(tagUpdates).forEach(tagType => {\n    const { newTags, oldTags } = tagUpdates[tagType];\n\n    if (newTags.length) {\n      addedTags[tagType] = newTags;\n    }\n    if (oldTags.length) {\n      removedTags[tagType] = tagUpdates[tagType].oldTags;\n    }\n  });\n\n  if (cb) {\n    cb();\n  }\n\n  onChangeClientState(newState, addedTags, removedTags);\n};\n\n// eslint-disable-next-line\nlet _helmetCallback = null;\n\nconst handleStateChangeOnClient = newState => {\n  if (_helmetCallback) {\n    cancelAnimationFrame(_helmetCallback);\n  }\n\n  if (newState.defer) {\n    _helmetCallback = requestAnimationFrame(() => {\n      commitTagChanges(newState, () => {\n        _helmetCallback = null;\n      });\n    });\n  } else {\n    commitTagChanges(newState);\n    _helmetCallback = null;\n  }\n};\n\nexport default handleStateChangeOnClient;\n","import { Component } from 'react';\nimport shallowEqual from 'shallowequal';\nimport handleStateChangeOnClient from './client';\nimport mapStateOnServer from './server';\nimport { reducePropsToState } from './utils';\nimport Provider, { providerShape } from './Provider';\n\nexport default class Dispatcher extends Component {\n  static propTypes = {\n    context: providerShape.isRequired,\n  };\n\n  static displayName = 'HelmetDispatcher';\n\n  rendered = false;\n\n  shouldComponentUpdate(nextProps) {\n    return !shallowEqual(nextProps, this.props);\n  }\n\n  componentDidUpdate() {\n    this.emitChange();\n  }\n\n  componentWillUnmount() {\n    const { helmetInstances } = this.props.context;\n    helmetInstances.remove(this);\n    this.emitChange();\n  }\n\n  emitChange() {\n    const { helmetInstances, setHelmet } = this.props.context;\n    let serverState = null;\n    const state = reducePropsToState(\n      helmetInstances.get().map(instance => {\n        const props = { ...instance.props };\n        delete props.context;\n        return props;\n      })\n    );\n    if (Provider.canUseDOM) {\n      handleStateChangeOnClient(state);\n    } else if (mapStateOnServer) {\n      serverState = mapStateOnServer(state);\n    }\n    setHelmet(serverState);\n  }\n\n  // componentWillMount will be deprecated\n  // for SSR, initialize on first render\n  // constructor is also unsafe in StrictMode\n  init() {\n    if (this.rendered) {\n      return;\n    }\n\n    this.rendered = true;\n\n    const { helmetInstances } = this.props.context;\n    helmetInstances.add(this);\n    this.emitChange();\n  }\n\n  render() {\n    this.init();\n\n    return null;\n  }\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport fastCompare from 'react-fast-compare';\nimport invariant from 'invariant';\nimport { Context } from './Provider';\nimport Dispatcher from './Dispatcher';\nimport { TAG_NAMES, VALID_TAG_NAMES, HTML_TAG_MAP } from './constants';\n\nexport { default as HelmetProvider } from './Provider';\n\n/* eslint-disable class-methods-use-this */\n\nexport class Helmet extends Component {\n  /**\n   * @param {Object} base: {\"target\": \"_blank\", \"href\": \"http://mysite.com/\"}\n   * @param {Object} bodyAttributes: {\"className\": \"root\"}\n   * @param {String} defaultTitle: \"Default Title\"\n   * @param {Boolean} defer: true\n   * @param {Boolean} encodeSpecialCharacters: true\n   * @param {Object} htmlAttributes: {\"lang\": \"en\", \"amp\": undefined}\n   * @param {Array} link: [{\"rel\": \"canonical\", \"href\": \"http://mysite.com/example\"}]\n   * @param {Array} meta: [{\"name\": \"description\", \"content\": \"Test description\"}]\n   * @param {Array} noscript: [{\"innerHTML\": \"<img src='http://mysite.com/js/test.js'\"}]\n   * @param {Function} onChangeClientState: \"(newState) => console.log(newState)\"\n   * @param {Array} script: [{\"type\": \"text/javascript\", \"src\": \"http://mysite.com/js/test.js\"}]\n   * @param {Array} style: [{\"type\": \"text/css\", \"cssText\": \"div { display: block; color: blue; }\"}]\n   * @param {String} title: \"Title\"\n   * @param {Object} titleAttributes: {\"itemprop\": \"name\"}\n   * @param {String} titleTemplate: \"MySite.com - %s\"\n   */\n  /* eslint-disable react/forbid-prop-types, react/require-default-props */\n  static propTypes = {\n    base: PropTypes.object,\n    bodyAttributes: PropTypes.object,\n    children: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.node), PropTypes.node]),\n    defaultTitle: PropTypes.string,\n    defer: PropTypes.bool,\n    encodeSpecialCharacters: PropTypes.bool,\n    htmlAttributes: PropTypes.object,\n    link: PropTypes.arrayOf(PropTypes.object),\n    meta: PropTypes.arrayOf(PropTypes.object),\n    noscript: PropTypes.arrayOf(PropTypes.object),\n    onChangeClientState: PropTypes.func,\n    script: PropTypes.arrayOf(PropTypes.object),\n    style: PropTypes.arrayOf(PropTypes.object),\n    title: PropTypes.string,\n    titleAttributes: PropTypes.object,\n    titleTemplate: PropTypes.string,\n  };\n  /* eslint-enable react/prop-types, react/forbid-prop-types, react/require-default-props */\n\n  static defaultProps = {\n    defer: true,\n    encodeSpecialCharacters: true,\n  };\n\n  static displayName = 'Helmet';\n\n  shouldComponentUpdate(nextProps) {\n    return !fastCompare(this.props, nextProps);\n  }\n\n  mapNestedChildrenToProps(child, nestedChildren) {\n    if (!nestedChildren) {\n      return null;\n    }\n\n    switch (child.type) {\n      case TAG_NAMES.SCRIPT:\n      case TAG_NAMES.NOSCRIPT:\n        return {\n          innerHTML: nestedChildren,\n        };\n\n      case TAG_NAMES.STYLE:\n        return {\n          cssText: nestedChildren,\n        };\n      default:\n        throw new Error(\n          `<${child.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`\n        );\n    }\n  }\n\n  flattenArrayTypeChildren({ child, arrayTypeChildren, newChildProps, nestedChildren }) {\n    return {\n      ...arrayTypeChildren,\n      [child.type]: [\n        ...(arrayTypeChildren[child.type] || []),\n        {\n          ...newChildProps,\n          ...this.mapNestedChildrenToProps(child, nestedChildren),\n        },\n      ],\n    };\n  }\n\n  mapObjectTypeChildren({ child, newProps, newChildProps, nestedChildren }) {\n    switch (child.type) {\n      case TAG_NAMES.TITLE:\n        return {\n          ...newProps,\n          [child.type]: nestedChildren,\n          titleAttributes: { ...newChildProps },\n        };\n\n      case TAG_NAMES.BODY:\n        return {\n          ...newProps,\n          bodyAttributes: { ...newChildProps },\n        };\n\n      case TAG_NAMES.HTML:\n        return {\n          ...newProps,\n          htmlAttributes: { ...newChildProps },\n        };\n      default:\n        return {\n          ...newProps,\n          [child.type]: { ...newChildProps },\n        };\n    }\n  }\n\n  mapArrayTypeChildrenToProps(arrayTypeChildren, newProps) {\n    let newFlattenedProps = { ...newProps };\n\n    Object.keys(arrayTypeChildren).forEach(arrayChildName => {\n      newFlattenedProps = {\n        ...newFlattenedProps,\n        [arrayChildName]: arrayTypeChildren[arrayChildName],\n      };\n    });\n\n    return newFlattenedProps;\n  }\n\n  warnOnInvalidChildren(child, nestedChildren) {\n    invariant(\n      VALID_TAG_NAMES.some(name => child.type === name),\n      typeof child.type === 'function'\n        ? `You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.`\n        : `Only elements types ${VALID_TAG_NAMES.join(\n            ', '\n          )} are allowed. Helmet does not support rendering <${\n            child.type\n          }> elements. Refer to our API for more information.`\n    );\n\n    invariant(\n      !nestedChildren ||\n        typeof nestedChildren === 'string' ||\n        (Array.isArray(nestedChildren) &&\n          !nestedChildren.some(nestedChild => typeof nestedChild !== 'string')),\n      `Helmet expects a string as a child of <${child.type}>. Did you forget to wrap your children in braces? ( <${child.type}>{\\`\\`}</${child.type}> ) Refer to our API for more information.`\n    );\n\n    return true;\n  }\n\n  mapChildrenToProps(children, newProps) {\n    let arrayTypeChildren = {};\n\n    React.Children.forEach(children, child => {\n      if (!child || !child.props) {\n        return;\n      }\n\n      const { children: nestedChildren, ...childProps } = child.props;\n      // convert React props to HTML attributes\n      const newChildProps = Object.keys(childProps).reduce((obj, key) => {\n        obj[HTML_TAG_MAP[key] || key] = childProps[key];\n        return obj;\n      }, {});\n\n      let { type } = child;\n      if (typeof type === 'symbol') {\n        type = type.toString();\n      } else {\n        this.warnOnInvalidChildren(child, nestedChildren);\n      }\n\n      switch (type) {\n        case TAG_NAMES.FRAGMENT:\n          newProps = this.mapChildrenToProps(nestedChildren, newProps);\n          break;\n\n        case TAG_NAMES.LINK:\n        case TAG_NAMES.META:\n        case TAG_NAMES.NOSCRIPT:\n        case TAG_NAMES.SCRIPT:\n        case TAG_NAMES.STYLE:\n          arrayTypeChildren = this.flattenArrayTypeChildren({\n            child,\n            arrayTypeChildren,\n            newChildProps,\n            nestedChildren,\n          });\n          break;\n\n        default:\n          newProps = this.mapObjectTypeChildren({\n            child,\n            newProps,\n            newChildProps,\n            nestedChildren,\n          });\n          break;\n      }\n    });\n\n    return this.mapArrayTypeChildrenToProps(arrayTypeChildren, newProps);\n  }\n\n  render() {\n    const { children, ...props } = this.props;\n    let newProps = { ...props };\n\n    if (children) {\n      newProps = this.mapChildrenToProps(children, newProps);\n    }\n\n    return (\n      <Context.Consumer>\n        {(\n          context // eslint-disable-next-line react/jsx-props-no-spreading\n        ) => <Dispatcher {...newProps} context={context} />}\n      </Context.Consumer>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}